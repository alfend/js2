<?phpnamespace app\controllers;use yii\web\Controller;use app\models\Products;use app\models\Cart;use Yii;//контроллер для страниц сайтаclass CartController extends Controller{//для списка товаров    //добавление в корзину 1 эл-та    public function actionAdd()    {        $id = Yii::$app->request->get('id');        $product = Products::findOne($id);        if (empty($product)) {            return false;        }        $session = Yii::$app->session;        $session->open();        $cart = new Cart();        $cart->AddToCart($product);        if(!Yii::$app->request->isAjax) return  $this->redirect(Yii::$app->request->referrer);        $this->layout = false;        return $this->render('cart-modal', compact('session'));    }    //отображение корзины    public function actionShow()    {        $session = Yii::$app->session;        $session->open();        $this->layout = false;        return $this->render('cart-modal', compact('session'));    }    public function actionGetqty()    {        $session = Yii::$app->session;        $session->open();        $this->layout = false;        $cart = new Cart();        echo( $cart->getqty());        //if(isset($session['cart.qty'])) {echo $session['cart.qty'];} else echo('0');    }    //удаление из корзины 1 эл-та    public function actionDelItem()    {        $id = Yii::$app->request->get('id');        $session = Yii::$app->session;        $session->open();        $cart = new Cart();        $cart->recalc($id);        $this->layout = false;        return $this->render('cart-modal', compact('session'));    }    public function actionView()    {        return $this->render('view', compact('session'));    }}